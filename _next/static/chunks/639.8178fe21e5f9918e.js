"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{639:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r=n(7294),o=n(9477),a=n(1036);const i=e=>e===Object(e)&&!Array.isArray(e)&&"function"!==typeof e;function s(e,t){const n=(0,a.z)((e=>e.gl)),s=(0,a.D)(o.TextureLoader,i(e)?Object.values(e):e);if((0,r.useLayoutEffect)((()=>{null==t||t(s)}),[t]),(0,r.useEffect)((()=>{(Array.isArray(s)?s:[s]).forEach(n.initTexture)}),[n,s]),i(e)){const t=Object.keys(e),n={};return t.forEach((e=>Object.assign(n,{[e]:s[t.indexOf(e)]}))),n}return s}s.preload=e=>a.D.preload(o.TextureLoader,e),s.clear=e=>a.D.clear(o.TextureLoader,e);var u=n(7462),c=n(4881);class l extends o.ExtrudeGeometry{constructor(e,t={}){const{bevelEnabled:n=!1,bevelSize:r=8,bevelThickness:o=10,font:a,height:i=50,size:s=100,lineHeight:u=1,letterSpacing:c=0,...l}=t;if(void 0===a)super();else{super(a.generateShapes(e,s,{lineHeight:u,letterSpacing:c}),{...l,bevelEnabled:n,bevelSize:r,bevelThickness:o,depth:i})}this.type="TextGeometry"}}var f=n(1180);class p extends o.Loader{constructor(e){super(e)}load(e,t,n,r){const a=new o.FileLoader(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(e=>{if("string"!==typeof e)throw new Error("unsupported data type");const n=JSON.parse(e),r=this.parse(n);t&&t(r)}),n,r)}parse(e){return new m(e)}}class m{constructor(e){(0,f.Z)(this,"data",void 0),this.data=e}generateShapes(e,t=100,n){const r=[],o={letterSpacing:0,lineHeight:1,...n},a=function(e,t,n,r){const o=Array.from(e),a=t/n.resolution,i=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*a,s=[];let u=0,c=0;for(let l=0;l<o.length;l++){const e=o[l];if("\n"===e)u=0,c-=i*r.lineHeight;else{const t=d(e,a,u,c,n);t&&(u+=t.offsetX+r.letterSpacing,s.push(t.path))}}return s}(e,t,this.data,o);for(let i=0,s=a.length;i<s;i++)Array.prototype.push.apply(r,a[i].toShapes(!1));return r}}function d(e,t,n,r,a){const i=a.glyphs[e]||a.glyphs["?"];if(!i)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+a.familyName+".");const s=new o.ShapePath;let u,c,l,f,p,m,d,x;if(i.o){const e=i._cachedOutline||(i._cachedOutline=i.o.split(" "));for(let o=0,a=e.length;o<a;){switch(e[o++]){case"m":u=parseInt(e[o++])*t+n,c=parseInt(e[o++])*t+r,s.moveTo(u,c);break;case"l":u=parseInt(e[o++])*t+n,c=parseInt(e[o++])*t+r,s.lineTo(u,c);break;case"q":l=parseInt(e[o++])*t+n,f=parseInt(e[o++])*t+r,p=parseInt(e[o++])*t+n,m=parseInt(e[o++])*t+r,s.quadraticCurveTo(p,m,l,f);break;case"b":l=parseInt(e[o++])*t+n,f=parseInt(e[o++])*t+r,p=parseInt(e[o++])*t+n,m=parseInt(e[o++])*t+r,d=parseInt(e[o++])*t+n,x=parseInt(e[o++])*t+r,s.bezierCurveTo(p,m,d,x,l,f)}}}return{offsetX:i.ha*t,path:s}}(0,f.Z)(m,"isFont",void 0),(0,f.Z)(m,"type",void 0);const x=["string","number"],h=r.forwardRef((({font:e,letterSpacing:t=0,lineHeight:n=1,size:i=1,height:s=.2,bevelThickness:f=.1,bevelSize:m=.01,bevelEnabled:d=!1,bevelOffset:h=0,bevelSegments:g=4,curveSegments:v=8,smooth:b,children:y,...S},w)=>{r.useMemo((()=>(0,a.e)({RenamedTextGeometry:l})),[]);const T=r.useRef(null),O=(0,c.Rq)((async()=>{let t="string"===typeof e?await(await fetch(e)).json():e;return(new p).parse(t)}),[e]),j=(0,r.useMemo)((()=>({font:O,size:i,height:s,bevelThickness:f,bevelSize:m,bevelEnabled:d,bevelSegments:g,bevelOffset:h,curveSegments:v,letterSpacing:t,lineHeight:n})),[O,i,s,f,m,d,g,h,v,t,n]),[R,...z]=(0,r.useMemo)((()=>(e=>{let t="";const n=[];return r.Children.forEach(e,(e=>{x.includes(typeof e)?t+=e+"":n.push(e)})),[t,...n]})(y)),[y]),M=r.useMemo((()=>[R,j]),[R,j]);return r.useLayoutEffect((()=>{b&&(T.current.geometry=function(e,t=1e-4){t=Math.max(t,Number.EPSILON);const n={},r=e.getIndex(),a=e.getAttribute("position"),i=r?r.count:a.count;let s=0;const u=Object.keys(e.attributes),c={},l={},f=[],p=["getX","getY","getZ","getW"];for(let o=0,h=u.length;o<h;o++){const t=u[o];c[t]=[];const n=e.morphAttributes[t];n&&(l[t]=new Array(n.length).fill(0).map((()=>[])))}const m=Math.log10(1/t),d=Math.pow(10,m);for(let o=0;o<i;o++){const t=r?r.getX(o):o;let a="";for(let n=0,r=u.length;n<r;n++){const r=u[n],o=e.getAttribute(r),i=o.itemSize;for(let e=0;e<i;e++)a+=~~(o[p[e]](t)*d)+","}if(a in n)f.push(n[a]);else{for(let n=0,r=u.length;n<r;n++){const r=u[n],o=e.getAttribute(r),a=e.morphAttributes[r],i=o.itemSize,s=c[r],f=l[r];for(let e=0;e<i;e++){const n=p[e];if(s.push(o[n](t)),a)for(let e=0,r=a.length;e<r;e++)f[e].push(a[e][n](t))}}n[a]=s,f.push(s),s++}}const x=e.clone();for(let h=0,g=u.length;h<g;h++){const t=u[h],n=e.getAttribute(t),r=new n.array.constructor(c[t]),a=new o.BufferAttribute(r,n.itemSize,n.normalized);if(x.setAttribute(t,a),t in l)for(let i=0;i<l[t].length;i++){const n=e.morphAttributes[t][i],r=new n.array.constructor(l[t][i]),a=new o.BufferAttribute(r,n.itemSize,n.normalized);x.morphAttributes[t][i]=a}}return x.setIndex(f),x}(T.current.geometry,b),T.current.geometry.computeVertexNormals())}),[M,b]),r.useImperativeHandle(w,(()=>T.current),[]),r.createElement("mesh",(0,u.Z)({},S,{ref:T}),r.createElement("renamedTextGeometry",{args:M}),z)}));var g=n(623);function v({children:e,fog:t,frames:n=1/0,resolution:i=256,near:s=.1,far:u=1e3,envMap:c,...l}){const f=r.useRef(),[p,m]=r.useState(null),d=(0,a.z)((({scene:e})=>e)),x=(0,a.z)((({gl:e})=>e)),h=r.useMemo((()=>{const e=new o.WebGLCubeRenderTarget(i);return e.texture.encoding=x.outputEncoding,e.texture.type=o.HalfFloatType,e}),[i]);let g,v,b=0;return(0,a.A)((()=>{p&&f.current&&(n===1/0||b<n)&&(f.current.visible=!1,g=d.fog,v=d.background,d.background=c||v,d.fog=t||g,p.update(x,d),d.fog=g,d.background=v,f.current.visible=!0,b++)})),r.createElement("group",l,r.createElement("cubeCamera",{ref:m,args:[s,u,h]}),r.createElement("group",{ref:f},e(h.texture)))}var b=n(5893),y=function(e){var t=e.type,n=void 0===t?"sphere":t,i=e.scale,s=void 0===i?10:i,u=(0,r.useRef)();return(0,a.A)((function(e,t){u.current.rotation.x+=Math.PI*t*.01})),(0,b.jsx)(v,{near:.01,far:100,resolution:1024,children:function(e){return(0,b.jsxs)("mesh",{scale:[s,s,s],ref:u,children:["sphere"===n&&(0,b.jsx)("sphereGeometry",{args:[20,32,16]}),"box"===n&&(0,b.jsx)("boxGeometry",{args:[100,100,100]}),(0,b.jsx)("meshPhysicalMaterial",{clearcoat:1,clearcoatRoughness:.1,roughness:0,metalness:1,envMap:e,side:o.BackSide})]})}})},S=n(9499);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=e.geo,n=e.config,i=s("/matCaps/1A2461_3D70DB_2C3C8F_2C6CAC-512px.png"),u=(0,r.useState)((function(){return{resolution:{value:new o.Vector2},uMin:{value:new o.Vector2},uMax:{value:new o.Vector2},uTime:{value:0},uTwistSpeed:{value:n.uTwistSpeed},uRotateSpeed:{value:n.uRotateSpeed},uTwists:{value:n.uTwists},uRadius:{value:n.uRadius}}}))[0];(0,a.A)((function(e){u.uTime.value=e.clock.elapsedTime})),(0,r.useEffect)((function(){u.resolution.value=new o.Vector2(window.innerWidth,window.innerHeight),t&&(u.uMin.value=t.min,u.uMax.value=t.max,u.uRadius.value=n.uRadius,u.uTwists.value=n.uTwists,u.uTwistSpeed.value=n.uTwistSpeed,u.uRotateSpeed.value=n.uRotateSpeed)}),[u.resolution,u.uMin,t,u.uMax,n.uRadius,n.uRotateSpeed,n.uTwistSpeed,n.uTwists,u.uRadius,u.uRotateSpeed,u.uTwistSpeed,u.uTwists]);var c=(0,r.useMemo)((function(){return function(e){e.uniforms=T(T({},e.uniforms),u),e.vertexShader="\n            #define PI 3.141592653589793\n            uniform float uTwistSpeed;\n            uniform float uRotateSpeed;\n            uniform float uTwists;\n            uniform float uRadius;\n            uniform vec3 uMin;\n            uniform vec3 uMax;\n            uniform float uTime;\n            uniform float time;\n\n            float animationDuration = 5.;\n            #define PI 3.141592653589793\n            float quadraticOut(float t) {\n              return -t * (t - 2.0);\n            }\n\n\n            float exponentialInOut(float t) {\n                return t == 0.0 || t == 1.0\n                  ? t\n                  : t < 0.5\n                    ? +0.5 * pow(2.0, (20.0 * t) - 10.0)\n                    : -0.5 * pow(2.0, 10.0 - (t * 20.0)) + 1.0;\n            }\n            float bounceOut(float t) {\n              const float a = 4.0 / 11.0;\n              const float b = 8.0 / 11.0;\n              const float c = 9.0 / 10.0;\n\n              const float ca = 4356.0 / 361.0;\n              const float cb = 35442.0 / 1805.0;\n              const float cc = 16061.0 / 1805.0;\n\n              float t2 = t * t;\n\n              return t < a\n                ? 7.5625 * t2\n                : t < b\n                  ? 9.075 * t2 - 9.9 * t + 3.4\n                  : t < c\n                    ? ca * t2 - cb * t + cc\n                    : 10.8 * t * t - 20.52 * t + 10.72;\n            }\n            float bounceInOut(float t) {\n              return t < 0.5\n                ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n                : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n            }\n            float sineInOut(float t) {\n              return -0.5 * (cos(PI * t) - 1.0);\n            }\n            mat4 rotationMatrix(vec3 axis, float angle) {\n                axis = normalize(axis);\n                float s = sin(angle);\n                float c = cos(angle);\n                float oc = 1.0 - c;\n                \n                return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                            oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                            oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                            0.0,                                0.0,                                0.0,                                1.0);\n            }\n            \n            vec3 rotate(vec3 v, vec3 axis, float angle) {\n              mat4 m = rotationMatrix(axis, angle);\n              return (m * vec4(v, 1.0)).xyz;\n            }\n            float mapRange(float value, float min1, float max1, float min2, float max2) {\n              // return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n              return clamp( min2 + (value - min1) * (max2 - min2) / (max1 - min1), min2, max2 );\n            }\n\n\n\n           \n    ".concat(e.vertexShader),e.vertexShader=e.vertexShader.replace("#include <beginnormal_vertex>","#include <beginnormal_vertex>\n          float xx = mapRange(position.x, uMin.x, uMax.x, -1., 1.0);\n          // twistnormal\n          objectNormal = rotate(objectNormal, vec3(1.,0.,0.), 0.5*PI*uTwists*xx + 0.01*uTime*uTwistSpeed);\n  \n          // circled normal\n          objectNormal = rotate(objectNormal, vec3(0.,0.,1.), (xx + 0.01*uTime*uRotateSpeed)*PI);\n      \n      "),e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","#include <begin_vertex>\n        vec3 pos = transformed;\n        float theta = (xx + 0.01*uTime*uRotateSpeed)*PI;\n        pos = rotate(pos,vec3(1.,0.,0.), 0.5*PI*uTwists*xx + 0.01*uTime*uTwistSpeed);\n\n\n        \n        vec3 dir = vec3(sin(theta), cos(theta),pos.z);\n        vec3 circled = vec3(dir.xy*uRadius,pos.z) + vec3(pos.y*dir.x,pos.y*dir.y,0.);\n\n        transformed = circled;\n\n      "),console.log(e.fragmentShader)}}),[u]);return(0,b.jsx)("meshMatcapMaterial",{onBeforeCompile:c,onUpdate:function(e){return e.needsUpdate=!0},customProgramCacheKey:function(){return c.toString()},matcap:i,side:o.DoubleSide})}function j(){console.log("text");var e=(0,r.useState)(),t=e[0],n=e[1],o=s("/txt/normalMap.jpg"),i=s("/matCaps/1A2461_3D70DB_2C3C8F_2C6CAC-512px.png"),u=(0,r.useRef)();console.log({matRef:u});var c=(0,g.M4)("Text",{fontSize:{value:1,min:.1,max:2},fontDepth:{value:.5,min:.01,max:3.5},uRadius:{value:1.5,min:.1,max:3},uTwists:{value:1,min:0,max:3,step:1},uTwistSpeed:{value:35,min:0,max:100,step:1},uRotateSpeed:{value:.5,min:0,max:3,step:.01}});return(0,r.useEffect)((function(){u.current.geometry.center(),u.current.scale.setX(5),u.current.scale.setY(5),u.current.scale.setZ(5),n(u.current.geometry.boundingBox)}),[n]),(0,a.A)((function(e){u.current.rotation.z=.1*-e.clock.elapsedTime*Math.PI})),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y,{scale:2,type:"sphere"}),(0,b.jsxs)(h,{font:"/fonts/Arial_Black_Regular.json",ref:u,size:c.fontSize,height:c.fontDepth,curveSegments:100,bevelEnabled:!1,children:[" Fuck the Tories ".toUpperCase(),(0,b.jsx)(O,{normalMap:o,matCap:i,geo:t,config:c})]})]})}},1180:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return a}})}}]);