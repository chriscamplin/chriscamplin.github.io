"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{3662:function(n,e,t){t.d(e,{Z:function(){return p}});var o=t(7812),r=t(7294),i=t(6625),a=t(623),c=t(9477);function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:17.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5.25,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.06277,i=100,a=(0,o.Z)(Array(i+1)).map((function(o,r){var i=4===t?17.5:n,a=-Math.sin(r/i)*e,s=-Math.cos(r/i)*e;return new c.Vector3(a,s,0)})),s=new c.CatmullRomCurve3(a,!1),l=new c.TubeGeometry(s,100,.125,4,!1);return l.rotateZ(-Math.PI*r),l.rotateX(-Math.PI),l}var l=t(5893),u=function(n){var e=n.xPos,t=void 0===e?0:e,o=n.yPos,r=void 0===o?0:o;return(0,l.jsxs)("mesh",{position:[t,r,0],scale:[2,1,2],children:[(0,l.jsx)("circleGeometry",{args:[.5,32]}),(0,l.jsx)("meshBasicMaterial",{color:"black",transparent:!0,opacity:.45})]})},f=new c.MeshBasicMaterial({color:16776960,side:c.DoubleSide}),v=new c.PlaneGeometry(.1,22),h=[1,0,0,1],m=[2023,2e3,1980,1960,1940,1920,1900,1880];function p(n){var e=n.step1Complete,t=n.textScale,p=n.gap,d=void 0===p?.05:p,g=n.closed,y=void 0===g?.013:g,x=n.degrees,b=void 0===x?[1,0,1]:x,P=n.anchorY,j=void 0===P?"middle":P,w=(0,a.M4)({sliceOfPi:{value:d,min:.001,max:.5,step:.001},denominator:{value:y,min:.01,max:1,step:.001}}),O=w.denominator,M=w.sliceOfPi;return e?function(n){return(0,l.jsxs)("group",{rotation:[.5*Math.PI,0,0],position:[-11.5,-12,-12.5],children:[m.map((function(e,t){var o=12.5-3.05*t;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(u,{xPos:11.5,yPos:o}),(0,l.jsx)(i.x,{position:[11.5,o,.01],scale:[n,n,n],color:"white",anchorX:"center",anchorY:"middle",font:"/fonts/GT-Zirkon-Bold.woff",children:"".concat(e)},e)]},Math.random())})),(0,o.Z)(Array(3)).map((function(e,t){var o=5.65*t+3.1;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(i.x,{position:[o,13.5,0],scale:[n,n,n],color:"white",anchorX:"center",anchorY:"middle",font:"/fonts/GT-Zirkon-Bold.woff",children:"".concat(h[t],"\xb0C")}),(0,l.jsx)("mesh",{position:[o,2,0],geometry:v,material:f})]},Math.random())}))]})}(t):function(n,e,t,a,f){return(0,o.Z)(a).map((function(o,v){var h=2.95*v+3.75;return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(u,{yPos:h}),(0,l.jsx)(i.x,{position:[0,h,.01],scale:[t,t,t],color:"white",anchorX:"center",anchorY:f,font:"/fonts/GT-Zirkon-Bold.woff",children:"".concat(a[v],"\xb0C")}),(0,l.jsx)("mesh",{rotation:[0,0,4===v?.05*Math.PI:0],geometry:s(18-(v+100)*n,9.75-3*v,v,e),children:(0,l.jsx)("meshBasicMaterial",{color:new c.Color(v-1===0?"green":"yellow"),material:!0})})]},Math.random())}))}(O,M,t,b,j)}},5546:function(n,e,t){var o=t(6625),r=t(5893);e.Z=function(n){var e=n.months,t=n.textScale;return e.map((function(n,e){var i=9*Math.sin(e/2)*1.185,a=9*Math.cos(e/2)*1.185;return(0,r.jsx)("group",{rotation:[0,0,.125*-Math.PI],children:(0,r.jsx)(o.x,{font:"/fonts/GT-Zirkon-Bold.woff",color:"white",rotation:[0,0,.125*Math.PI],scale:[1.5*t,1.5*t,1.5*t],position:[i,a,0],children:n})},Math.random())}))}},107:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var o=t(9499),r=t(6835),i=t(7294),a=t(5449),c=t(9137),s=t(6625),l=t(623),u=t(9477),f=t(3662),v=t(5546),h=t(7812),m=t(9628),p=t(7460),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function g(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function y(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?g(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var x=function(n){var e=(0,i.useState)(),t=e[0],r=e[1];return(0,i.useEffect)((function(){if(!n.includes("undefined")&&!n.includes(" ")){var e=(0,h.Z)(new Array(n[2])).fill("");!function(){var t=[];Promise.all((0,h.Z)(e).map((function(e,t){return new Promise((function(e,o){(0,p.parse)("".concat(n[0]).concat(t+1,"_").concat(n[1]),{download:!0,header:!0,skipEmptyLines:!0,transform:function(n){return Number.isNaN(Number(n))?n:Number(n)},complete:function(n){return e(n)},error:o})}))}))).then((function(n){n.forEach((function(n,e){t.push((0,o.Z)({},d[e],n.data))}));var e=t[0].Jan.reduce((function(n,e){return y(y({},n),{},(0,o.Z)({},e.year,t.map((function(n,o){return t[o][Object.keys(n)[0]].find((function(n){return n.year===e.year}))}))))}),[]),i=[];Object.keys(e).forEach((function(n){e[n].forEach((function(n){i.push(n)}))}));for(var a=(0,m.Z)().domain([-1,1.5]).range([-2,2.5]),c=2*Math.PI/12,s=[],l=0;l<i.length-10&&i[l];l+=1)s.push(i[l][" extent"]);for(var f=[],v=0;v<i.length-10&&i[v];v+=1){var h=Math.sin((v+1)*c),p=Math.cos((v+1)*c),g=a(i[v][" extent"])*h,x=a(i[v][" extent"])*p,b=.02*v,P=new u.Vector3(Number(g.toFixed(3)),Number(x.toFixed(3)),Number(b.toFixed(3)));f.push(P)}for(var j,w,O=new u.CatmullRomCurve3(f,!1),M=new u.TubeGeometry(O,15e3,.115,8,!1),S=M.getAttribute("position"),Z=[],k=[],D=0;D<S.array.length;D+=3){var G=S.array[D],N=S.array[D+1],C=S.array[D+2],F=new u.Vector3(G,N,C),I=new u.Vector3(0,0,C),E=F.distanceTo(I),_=(E-(j=1.1077788772783308))*(1-(w=0))/(8.138178959765503-j)+w;Z.push(_),k.push(E)}var A=new Float32Array(Z);M.setAttribute("gradientPosition",new u.BufferAttribute(A,1)),r(M)})).catch((function(n){return console.log("Something went wrong:",n)}))}()}}),[]),{geometry:t}},b=t(5893);function P(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function j(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?P(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var w=new((0,c.g)({fraction:0,time:0,color:new u.Color(.05,0,.025)},"#define GLSLIFY 1\nvarying vec2 vUv;\nvarying float vGradPos;\nattribute float gradientPosition;\nattribute float distance;\n\nvarying float vDistance;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\nvoid main() {\n  vec4 mvPosition=modelViewMatrix*vec4(position,1.);\n  vUv = uv;\n  vGradPos = gradientPosition;\n  vDistance=distance;\n  vNormal=normalize(normalMatrix*normal);\n  vViewPosition=-mvPosition.xyz;\n  gl_Position = projectionMatrix * mvPosition;\n}\n","#define GLSLIFY 1\nuniform float time;\nuniform vec3 color;\nuniform float fraction;\n\nvarying vec2 vUv;\nvarying float vGradPos;\nvarying float vDistance;\nvarying vec3 vNormal;\nvarying vec3 vViewPosition;\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nvec3 color1=vec3(1.0, 0.8353, 0.0);\nvec3 color2=vec3(1.,1.,1.);\nvec3 color3=vec3(0.0, 1.0, 0.9686);\n\nvoid main() {\n    if(vDistance<fraction)discard;\n    float step1=0.45;\n    float step2=.65;\n    float step3=.775;\n\n    vec3 color=mix(color1,color2,smoothstep(step1,step2,vGradPos));\n    //vec3 color2=mix(color3,color4,smoothstep(step3,step4,vGradPos));\n    color=mix(color,color3,smoothstep(step2,step3,vGradPos));\n    // hack in a fake pointlight at camera location, plus ambient\n    vec3 normal=normalize(vNormal);\n    vec3 lightDir=normalize(vViewPosition);\n\n    float dotProduct=max(dot(normal,lightDir),0.)+.2;\n    // gl_FragColor.rgba = vec4(0.5 + 0.3 * sin(vUv.yxx + time) + color, 1.0);\n    //gl_FragColor.rgba = vec4(color.rgb, 1.);\n    // trick to make the clipped ends appear solid\n    gl_FragColor=(gl_FrontFacing)?vec4(color*dotProduct,1.):vec4(color,1.);\n}\n"))({side:u.DoubleSide});function O(n){var e=x(["/data/sea-ice-index/","extent_v3.0.csv",12]).geometry,t=(0,l.M4)({textScale:{value:.5,min:.1,max:5,step:.1}}).textScale;console.log({geometry:e});var o=(0,a.useSpring)((function(){return{rotation:[0,0,0],position:[0,0,0],config:{mass:5,tension:120,friction:120,precision:1e-4}}})),c=(0,r.Z)(o,1)[0];return(0,b.jsxs)(i.Suspense,{fallback:(0,b.jsx)(s.x,{children:"LOADING"}),children:[(0,b.jsx)("ambientLight",{intensity:.25}),(0,b.jsx)("spotLight",{intensity:1,angle:.2,penumbra:1,position:[30,30,30],castShadow:!0,"shadow-mapSize":[512,512]}),(0,b.jsx)("directionalLight",{intensity:5,position:[-10,-10,-10],color:"white"}),e&&(0,b.jsxs)(a.a.group,{rotation:c.rotation.to((function(n,e,t){return[n,e,t]})),position:c.position.to((function(n,e,t){return[n,e,t]})),children:[(0,b.jsx)(f.Z,{textScale:t,step1Complete:!1,gap:.1,closed:.04,degrees:[2,4,6],anchorY:"bottom"}),d&&(0,b.jsx)(v.Z,{textScale:t,months:d}),(0,b.jsx)("mesh",j(j({},n),{},{geometry:e,material:w,rotation:[Math.PI,0,.125*-Math.PI],scale:[1.25,1.25,1.25],visible:!0}))]})]})}}}]);